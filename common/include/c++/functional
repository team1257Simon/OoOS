#ifndef __FUNCTIONAL
#define __FUNCTIONAL
#include <bits/stl_function.hpp>
#include <bits/functional_compare.hpp>
#include <bits/invoke.hpp>
#include <bits/refwrap.hpp>
#include <bits/bind.hpp>
#include <bits/bind_front.hpp>
template<typename FT, typename TT> using cast_t = std::ext::static_cast_t<FT, TT>;
template<typename CT, typename MT, MT CT::*MO> using access_t = std::ext::field_access_t<CT, MT, MO>;
typedef std::equal_to<void> equals_t;
constexpr uint64_t max_wait = 10000000UL;
/**
 * await_result(std::function<bool()> const&, uint64_t)
 * Spins on the provided function by making repeated calls to it until it returns true or the number of calls made equals or exceeds the provided number.
 * If a lambda is passed as an argument, it will go out of scope before any captured variables do, making it safe to capture by reference.
 */
bool await_result(std::function<bool()> const& fn, uint64_t max_dur = max_wait);
#endif